<h1>Edit course</h1>

<%
   external_scoreboard_url_help = %q{
     <small>
       %{user} = username<br/>
       %{course} = course id<br/>
       %{org} = organization id<br/>
     </small>
   }
%>

<%= form_for(@course, url: organization_course_path) do |f| %>
  <%= render 'shared/error_messages', :target => @course %>

  <%= bs_labeled_field("Course title*", f.text_field(:title)) %>
  <%= bs_labeled_field("Course description", f.text_area(:description)) %>
  <%= bs_labeled_field("Material URL", f.text_field(:material_url)) %>
  <%= bs_labeled_field("External scoreboard URL", external_scoreboard_url_help + f.text_field(:external_scoreboard_url)) %>
  <%= bs_labeled_field("Course name", f.text_field(:name, disabled: true)) %>
  <%= bs_labeled_field("Formal name", f.text_field(:formal_name)) %>
  <%= bs_labeled_field("Course status", f.select(:status, options_for_select(Course.statuses.collect { |s| [s[0].humanize, s[0]] }, selected: @course.status)))%>
  <%= bs_labeled_field("Locked exercise points visible?", f.check_box(:locked_exercise_points_visible), type: :boolean) %>
  <%= bs_labeled_field("Certificate downloadable?", f.check_box(:certificate_downloadable), type: :boolean) %>
  <div id="certificate-unlock-spec" <%= @course.certificate_downloadable? ? '' : raw('style="display: none;"') %>>
    <%= bs_labeled_field("Certificate unlock conditions", f.text_area(:raw_certificate_unlock_spec, rows: 4)) %>
  </div>
  <hr/>
  <p>Fields with (*) are required</p>
  <div class="actions">
    <%= f.submit 'Update Course', class: "btn btn-primary"%>
  </div>
<% end %>
